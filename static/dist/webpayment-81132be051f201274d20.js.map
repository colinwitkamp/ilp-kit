{"version":3,"sources":["webpack:///webpayment-81132be051f201274d20.js","webpack:///./src/redux/actions/user.js?6ad7","webpack:///./src/containers/WebPayment/WebPayment.js","webpack:///./src/containers/WebPayment/WebPayment.scss"],"names":["webpackJsonp","220","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","defineProperty","value","loadUsers","getUser","undefined","_actionTypes","types","destination","GET_USER","GET_USER_SUCCESS","GET_USER_FAIL","promise","client","get","params","LOAD_USERS","LOAD_USERS_SUCCESS","LOAD_USERS_FAIL","842","_interopRequireDefault","_dec","_class","_class2","_temp2","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactRedux","_reactRouterRedux","_user","_send","_bind","_bind2","_WebPayment","_WebPayment2","cx","bind","Pay","connect","state","user","quoting","send","quote","pushState","routeActions","push","requestQuote","transfer","_Component","_ref","_temp","_this","_ret","this","_len","arguments","length","args","Array","_key","__proto__","apply","concat","handlePay","amount","props","setState","sending","destinationAmount","then","response","navigator","serviceWorker","controller","postMessage","methodName","window","close","catch","err","handleCancel","_props","spsp","createElement","className","receiver_info","image_url","src","name","ledger_info","currency_code","config","currencyCode","sourceAmount","onClick","disabled","Component","propTypes","object","isRequired","bool","func","1258","WebPayment","profile","payingTo","profilePic","total","sub","desc","description","btns"],"mappings":"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","file":"webpayment-81132be051f201274d20.js","sourcesContent":["webpackJsonp([12,18],{\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.loadUsers = exports.getUser = undefined;\n\t\n\tvar _actionTypes = __webpack_require__(28);\n\t\n\tvar types = _interopRequireWildcard(_actionTypes);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar getUser = exports.getUser = function getUser(destination) {\n\t  return {\n\t    types: [types.GET_USER, types.GET_USER_SUCCESS, types.GET_USER_FAIL],\n\t    promise: function promise(client) {\n\t      return client.get('/parse/destination', { params: { destination: destination } });\n\t    }\n\t  };\n\t};\n\t\n\tvar loadUsers = exports.loadUsers = function loadUsers() {\n\t  return {\n\t    types: [types.LOAD_USERS, types.LOAD_USERS_SUCCESS, types.LOAD_USERS_FAIL],\n\t    promise: function promise(client) {\n\t      return client.get('/users');\n\t    }\n\t  };\n\t};\n\n/***/ }),\n\n/***/ 842:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _getPrototypeOf = __webpack_require__(14);\n\t\n\tvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\t\n\tvar _classCallCheck2 = __webpack_require__(3);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(13);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(5);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(4);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _dec, _class, _class2, _temp2;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(2);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _reactRedux = __webpack_require__(18);\n\t\n\tvar _reactRouterRedux = __webpack_require__(99);\n\t\n\tvar _user = __webpack_require__(220);\n\t\n\tvar _send = __webpack_require__(183);\n\t\n\tvar _bind = __webpack_require__(16);\n\t\n\tvar _bind2 = _interopRequireDefault(_bind);\n\t\n\tvar _WebPayment = __webpack_require__(1258);\n\t\n\tvar _WebPayment2 = _interopRequireDefault(_WebPayment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar cx = _bind2.default.bind(_WebPayment2.default);\n\t\n\tvar Pay = (_dec = (0, _reactRedux.connect)(function (state) {\n\t  return {\n\t    user: state.user.user,\n\t    quoting: state.send.quoting,\n\t    quote: state.send.quote\n\t  };\n\t}, { getUser: _user.getUser, pushState: _reactRouterRedux.routeActions.push, requestQuote: _send.requestQuote, transfer: _send.transfer }), _dec(_class = (_temp2 = _class2 = function (_Component) {\n\t  (0, _inherits3.default)(Pay, _Component);\n\t\n\t  function Pay() {\n\t    var _ref;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    (0, _classCallCheck3.default)(this, Pay);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Pay.__proto__ || (0, _getPrototypeOf2.default)(Pay)).call.apply(_ref, [this].concat(args))), _this), _this.state = {}, _this.handlePay = function () {\n\t      var amount = _this.props.params.amount;\n\t      var destination = _this.props.params.destination;\n\t\n\t      _this.setState({\n\t        sending: true\n\t      });\n\t\n\t      return _this.props.transfer({\n\t        destination: destination,\n\t        destinationAmount: amount\n\t      }).then(function (response) {\n\t        navigator.serviceWorker.controller.postMessage({\n\t          methodName: 'interledger'\n\t        });\n\t        window.close();\n\t\n\t        _this.setState({\n\t          sending: false\n\t        });\n\t      }).catch(function (err) {\n\t        navigator.serviceWorker.controller.postMessage({});\n\t        window.close();\n\t\n\t        _this.setState({\n\t          sending: false\n\t        });\n\t\n\t        throw err;\n\t      });\n\t    }, _this.handleCancel = function () {\n\t      navigator.serviceWorker.controller.postMessage({});\n\t      window.close();\n\t    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n\t  }\n\t\n\t  (0, _createClass3.default)(Pay, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var params = this.props.params;\n\t\n\t      if (!params.amount || !params.destination) return;\n\t\n\t      // Request a quote\n\t      this.props.requestQuote({\n\t        destination: params.destination,\n\t        destinationAmount: params.amount\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _props = this.props,\n\t          params = _props.params,\n\t          quote = _props.quote;\n\t      var sending = this.state.sending;\n\t\n\t\n\t      if (!quote.spsp) return null;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: cx('WebPayment') },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: cx('window') },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: cx('profile') },\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: cx('payingTo') },\n\t              'Payment to'\n\t            ),\n\t            quote.spsp.receiver_info && quote.spsp.receiver_info.image_url && _react2.default.createElement('img', { src: quote.spsp.receiver_info.image_url, className: cx('profilePic') }),\n\t            _react2.default.createElement(\n\t              'h1',\n\t              null,\n\t              quote.spsp.receiver_info && quote.spsp.receiver_info.name || params.destination\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: cx('total', 'sub') },\n\t            _react2.default.createElement(\n\t              'span',\n\t              { className: cx('desc') },\n\t              'Destination Amount:'\n\t            ),\n\t            _react2.default.createElement(\n\t              'span',\n\t              { className: cx('amount') },\n\t              quote.spsp.ledger_info.currency_code,\n\t              ' ',\n\t              params.amount\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: cx('total') },\n\t            _react2.default.createElement(\n\t              'span',\n\t              { className: cx('desc') },\n\t              'Total:'\n\t            ),\n\t            _react2.default.createElement(\n\t              'span',\n\t              { className: cx('amount') },\n\t              config.currencyCode,\n\t              ' ',\n\t              quote.sourceAmount\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: cx('row', 'btns') },\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: cx('col-xs-4') },\n\t              _react2.default.createElement(\n\t                'button',\n\t                { onClick: this.handleCancel, className: cx('btn', 'btn-default', 'btn-block', 'btn-lg', 'btnCancel'), disabled: sending },\n\t                'Cancel'\n\t              )\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: cx('col-xs-8') },\n\t              _react2.default.createElement(\n\t                'button',\n\t                { onClick: this.handlePay, className: cx('btn', 'btn-success', 'btn-block', 'btn-lg', 'btnConfirm'), disabled: sending },\n\t                sending ? 'Sending...' : 'Confirm'\n\t              )\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t  return Pay;\n\t}(_react.Component), _class2.propTypes = {\n\t  // Props\n\t  params: _propTypes2.default.object.isRequired,\n\t\n\t  // State\n\t  user: _propTypes2.default.object,\n\t  quoting: _propTypes2.default.bool,\n\t  quote: _propTypes2.default.object,\n\t\n\t  transfer: _propTypes2.default.func.isRequired,\n\t  requestQuote: _propTypes2.default.func.isRequired\n\t}, _temp2)) || _class);\n\texports.default = Pay;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1258:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"WebPayment\":\"-qjJp1UC1oymE1e-P3fYK\",\"window\":\"_2ZTYZEpv75WPVDBeZ6Oo4E\",\"profile\":\"_3-wXbS8g-PBzw7TX1DPMwT\",\"payingTo\":\"_1ljXF54dgj8CMvkKoF8bVP\",\"profilePic\":\"E1xNmdq6Fc3AG6tstGg32\",\"total\":\"tV58gePMsMycP881puDyG\",\"sub\":\"EqZMARBerE_YwAVj9sLNl\",\"amount\":\"_2KJ3sQJal_8kXqPq2lF1xr\",\"desc\":\"_6HJndoZ4sTjre1dMDTg8M\",\"description\":\"_3Zn1KS7y14r2BOrd5KFHJ2\",\"btns\":\"_2wPX5Ma4tjywPgF7vlZCI1\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// webpayment-81132be051f201274d20.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadUsers = exports.getUser = undefined;\n\nvar _actionTypes = require('../actionTypes');\n\nvar types = _interopRequireWildcard(_actionTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar getUser = exports.getUser = function getUser(destination) {\n  return {\n    types: [types.GET_USER, types.GET_USER_SUCCESS, types.GET_USER_FAIL],\n    promise: function promise(client) {\n      return client.get('/parse/destination', { params: { destination: destination } });\n    }\n  };\n};\n\nvar loadUsers = exports.loadUsers = function loadUsers() {\n  return {\n    types: [types.LOAD_USERS, types.LOAD_USERS_SUCCESS, types.LOAD_USERS_FAIL],\n    promise: function promise(client) {\n      return client.get('/users');\n    }\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/redux/actions/user.js\n// module id = 220\n// module chunks = 0 12 14","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _dec, _class, _class2, _temp2;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _reactRouterRedux = require('react-router-redux');\n\nvar _user = require('redux/actions/user');\n\nvar _send = require('redux/actions/send');\n\nvar _bind = require('classnames/bind');\n\nvar _bind2 = _interopRequireDefault(_bind);\n\nvar _WebPayment = require('./WebPayment.scss');\n\nvar _WebPayment2 = _interopRequireDefault(_WebPayment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cx = _bind2.default.bind(_WebPayment2.default);\n\nvar Pay = (_dec = (0, _reactRedux.connect)(function (state) {\n  return {\n    user: state.user.user,\n    quoting: state.send.quoting,\n    quote: state.send.quote\n  };\n}, { getUser: _user.getUser, pushState: _reactRouterRedux.routeActions.push, requestQuote: _send.requestQuote, transfer: _send.transfer }), _dec(_class = (_temp2 = _class2 = function (_Component) {\n  (0, _inherits3.default)(Pay, _Component);\n\n  function Pay() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Pay);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Pay.__proto__ || (0, _getPrototypeOf2.default)(Pay)).call.apply(_ref, [this].concat(args))), _this), _this.state = {}, _this.handlePay = function () {\n      var amount = _this.props.params.amount;\n      var destination = _this.props.params.destination;\n\n      _this.setState({\n        sending: true\n      });\n\n      return _this.props.transfer({\n        destination: destination,\n        destinationAmount: amount\n      }).then(function (response) {\n        navigator.serviceWorker.controller.postMessage({\n          methodName: 'interledger'\n        });\n        window.close();\n\n        _this.setState({\n          sending: false\n        });\n      }).catch(function (err) {\n        navigator.serviceWorker.controller.postMessage({});\n        window.close();\n\n        _this.setState({\n          sending: false\n        });\n\n        throw err;\n      });\n    }, _this.handleCancel = function () {\n      navigator.serviceWorker.controller.postMessage({});\n      window.close();\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Pay, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var params = this.props.params;\n\n      if (!params.amount || !params.destination) return;\n\n      // Request a quote\n      this.props.requestQuote({\n        destination: params.destination,\n        destinationAmount: params.amount\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          params = _props.params,\n          quote = _props.quote;\n      var sending = this.state.sending;\n\n\n      if (!quote.spsp) return null;\n\n      return _react2.default.createElement(\n        'div',\n        { className: cx('WebPayment') },\n        _react2.default.createElement(\n          'div',\n          { className: cx('window') },\n          _react2.default.createElement(\n            'div',\n            { className: cx('profile') },\n            _react2.default.createElement(\n              'div',\n              { className: cx('payingTo') },\n              'Payment to'\n            ),\n            quote.spsp.receiver_info && quote.spsp.receiver_info.image_url && _react2.default.createElement('img', { src: quote.spsp.receiver_info.image_url, className: cx('profilePic') }),\n            _react2.default.createElement(\n              'h1',\n              null,\n              quote.spsp.receiver_info && quote.spsp.receiver_info.name || params.destination\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: cx('total', 'sub') },\n            _react2.default.createElement(\n              'span',\n              { className: cx('desc') },\n              'Destination Amount:'\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: cx('amount') },\n              quote.spsp.ledger_info.currency_code,\n              ' ',\n              params.amount\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: cx('total') },\n            _react2.default.createElement(\n              'span',\n              { className: cx('desc') },\n              'Total:'\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: cx('amount') },\n              config.currencyCode,\n              ' ',\n              quote.sourceAmount\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: cx('row', 'btns') },\n            _react2.default.createElement(\n              'div',\n              { className: cx('col-xs-4') },\n              _react2.default.createElement(\n                'button',\n                { onClick: this.handleCancel, className: cx('btn', 'btn-default', 'btn-block', 'btn-lg', 'btnCancel'), disabled: sending },\n                'Cancel'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: cx('col-xs-8') },\n              _react2.default.createElement(\n                'button',\n                { onClick: this.handlePay, className: cx('btn', 'btn-success', 'btn-block', 'btn-lg', 'btnConfirm'), disabled: sending },\n                sending ? 'Sending...' : 'Confirm'\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n  return Pay;\n}(_react.Component), _class2.propTypes = {\n  // Props\n  params: _propTypes2.default.object.isRequired,\n\n  // State\n  user: _propTypes2.default.object,\n  quoting: _propTypes2.default.bool,\n  quote: _propTypes2.default.object,\n\n  transfer: _propTypes2.default.func.isRequired,\n  requestQuote: _propTypes2.default.func.isRequired\n}, _temp2)) || _class);\nexports.default = Pay;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/WebPayment/WebPayment.js\n// module id = 842\n// module chunks = 12","// removed by extract-text-webpack-plugin\nmodule.exports = {\"WebPayment\":\"-qjJp1UC1oymE1e-P3fYK\",\"window\":\"_2ZTYZEpv75WPVDBeZ6Oo4E\",\"profile\":\"_3-wXbS8g-PBzw7TX1DPMwT\",\"payingTo\":\"_1ljXF54dgj8CMvkKoF8bVP\",\"profilePic\":\"E1xNmdq6Fc3AG6tstGg32\",\"total\":\"tV58gePMsMycP881puDyG\",\"sub\":\"EqZMARBerE_YwAVj9sLNl\",\"amount\":\"_2KJ3sQJal_8kXqPq2lF1xr\",\"desc\":\"_6HJndoZ4sTjre1dMDTg8M\",\"description\":\"_3Zn1KS7y14r2BOrd5KFHJ2\",\"btns\":\"_2wPX5Ma4tjywPgF7vlZCI1\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/WebPayment/WebPayment.scss\n// module id = 1258\n// module chunks = 12"],"sourceRoot":""}