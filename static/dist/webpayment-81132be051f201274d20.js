webpackJsonp([12,18],{220:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.loadUsers=t.getUser=void 0;var s=n(28),r=a(s);t.getUser=function(e){return{types:[r.GET_USER,r.GET_USER_SUCCESS,r.GET_USER_FAIL],promise:function(t){return t.get("/parse/destination",{params:{destination:e}})}}},t.loadUsers=function(){return{types:[r.LOAD_USERS,r.LOAD_USERS_SUCCESS,r.LOAD_USERS_FAIL],promise:function(e){return e.get("/users")}}}},842:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r,o,l,u=n(14),i=a(u),c=n(3),d=a(c),f=n(13),p=a(f),m=n(5),_=a(m),v=n(4),g=a(v),E=n(1),b=a(E),y=n(2),h=a(y),S=n(18),w=n(99),P=n(220),q=n(183),N=n(16),C=a(N),M=n(1258),U=a(M),A=C.default.bind(U.default),j=(s=(0,S.connect)(function(e){return{user:e.user.user,quoting:e.send.quoting,quote:e.send.quote}},{getUser:P.getUser,pushState:w.routeActions.push,requestQuote:q.requestQuote,transfer:q.transfer}),s((l=o=function(e){function t(){var e,n,a,s;(0,d.default)(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=a=(0,_.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(o))),a.state={},a.handlePay=function(){var e=a.props.params.amount,t=a.props.params.destination;return a.setState({sending:!0}),a.props.transfer({destination:t,destinationAmount:e}).then(function(e){navigator.serviceWorker.controller.postMessage({methodName:"interledger"}),window.close(),a.setState({sending:!1})}).catch(function(e){throw navigator.serviceWorker.controller.postMessage({}),window.close(),a.setState({sending:!1}),e})},a.handleCancel=function(){navigator.serviceWorker.controller.postMessage({}),window.close()},s=n,(0,_.default)(a,s)}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.params;e.amount&&e.destination&&this.props.requestQuote({destination:e.destination,destinationAmount:e.amount})}},{key:"render",value:function(){var e=this.props,t=e.params,n=e.quote,a=this.state.sending;return n.spsp?b.default.createElement("div",{className:A("WebPayment")},b.default.createElement("div",{className:A("window")},b.default.createElement("div",{className:A("profile")},b.default.createElement("div",{className:A("payingTo")},"Payment to"),n.spsp.receiver_info&&n.spsp.receiver_info.image_url&&b.default.createElement("img",{src:n.spsp.receiver_info.image_url,className:A("profilePic")}),b.default.createElement("h1",null,n.spsp.receiver_info&&n.spsp.receiver_info.name||t.destination)),b.default.createElement("div",{className:A("total","sub")},b.default.createElement("span",{className:A("desc")},"Destination Amount:"),b.default.createElement("span",{className:A("amount")},n.spsp.ledger_info.currency_code," ",t.amount)),b.default.createElement("div",{className:A("total")},b.default.createElement("span",{className:A("desc")},"Total:"),b.default.createElement("span",{className:A("amount")},config.currencyCode," ",n.sourceAmount)),b.default.createElement("div",{className:A("row","btns")},b.default.createElement("div",{className:A("col-xs-4")},b.default.createElement("button",{onClick:this.handleCancel,className:A("btn","btn-default","btn-block","btn-lg","btnCancel"),disabled:a},"Cancel")),b.default.createElement("div",{className:A("col-xs-8")},b.default.createElement("button",{onClick:this.handlePay,className:A("btn","btn-success","btn-block","btn-lg","btnConfirm"),disabled:a},a?"Sending...":"Confirm"))))):null}}]),t}(E.Component),o.propTypes={params:h.default.object.isRequired,user:h.default.object,quoting:h.default.bool,quote:h.default.object,transfer:h.default.func.isRequired,requestQuote:h.default.func.isRequired},r=l))||r);t.default=j,e.exports=t.default},1258:function(e,t){e.exports={WebPayment:"-qjJp1UC1oymE1e-P3fYK",window:"_2ZTYZEpv75WPVDBeZ6Oo4E",profile:"_3-wXbS8g-PBzw7TX1DPMwT",payingTo:"_1ljXF54dgj8CMvkKoF8bVP",profilePic:"E1xNmdq6Fc3AG6tstGg32",total:"tV58gePMsMycP881puDyG",sub:"EqZMARBerE_YwAVj9sLNl",amount:"_2KJ3sQJal_8kXqPq2lF1xr",desc:"_6HJndoZ4sTjre1dMDTg8M",description:"_3Zn1KS7y14r2BOrd5KFHJ2",btns:"_2wPX5Ma4tjywPgF7vlZCI1"}}});
//# sourceMappingURL=webpayment-81132be051f201274d20.js.map